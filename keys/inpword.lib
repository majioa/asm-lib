IW	EQU	INPUT_WORD
INPUT_WORD	PROC	NEAR
	PUSH	AX
	PUSH	BX
	PUSH	CX
	PUSH	DS
	MOV	CX,CS:[MAX_LETTERS_]
	MOV	BX,CS:[WRITTEN_WORD_OFF_]
	MOV	DS,CS:[WRITTEN_WORD_SEG_]
INPUT_WORD_1:
	MOV	AH,7
	INT	21H
	CMP	AL,ENT
	JE	INPUT_ENTER
	CMP	AL,BACK
	JE	INPUT_BACK
	CMP	AL,ESCAPE
	JE	INPUT_ESCAPE
	CMP	AL,' '
	JE	INPUT_KEY
	CMP	AL,'?'
	JE	INPUT_KEY
	CMP	AL,'€'
	JB	INPUT_WORD_1
	CMP	AL,'¯'
	JBE	INPUT_KEY
	CMP	AL,0e0h
	JB	INPUT_WORD_1
	CMP	AL,'ï'
	JA	INPUT_WORD_1
INPUT_KEY:
	MOV	DS:[BX],AL
	CALL	WRITE_SYM
	DEC	CX
	INC	BX
	JMP	INPUT_WORD_1
INPUT_ENTER:
	OR	CX,CX
	JZ	INPUT_ESCAPE
	MOV	BYTE PTR CS:[BX],0
INPUT_ENTER_1:
	CLC
INPUT_EXIT:
	POP	DS
	POP	CX
	POP	BX
	POP	AX
	RET
INPUT_BACK:
	CMP	CX,10
	JE	INPUT_WORD_1
	INC	CX
	DEC	WORD PTR CS:[X]
	MOV	AL,32
	CALL	WRITE_SYM
	DEC	WORD PTR CS:[X]
	DEC	BX
	JMP	INPUT_WORD_1
INPUT_ESCAPE:
	STC
	JMP	SHORT INPUT_EXIT
MAX_LETTERS_	DW	0
INPUT_WORD	ENDP
